spring.application.name=gym-management-saas

# Master Database Configuration
spring.datasource.master.url=jdbc:h2:mem:gym_master_db;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.master.username=sa
spring.datasource.master.password=
spring.datasource.master.driver-class-name=org.h2.Driver
spring.datasource.master.hikari.maximum-pool-size=10
spring.datasource.master.hikari.minimum-idle=2
spring.datasource.master.hikari.connection-timeout=30000

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Kolkata

# Flyway
spring.flyway.enabled=false
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# Server
server.port=8080
server.error.include-message=always
server.error.include-binding-errors=always

# JWT
jwt.secret=local-dev-secret-change-me-32-bytes-min
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# Tenant Configuration
tenant.datasource.url-prefix=jdbc:h2:mem:
tenant.datasource.username=sa
tenant.datasource.password=
tenant.datasource.driver-class-name=org.h2.Driver
tenant.datasource.hikari.maximum-pool-size=5
tenant.datasource.hikari.minimum-idle=1
tenant.datasource.default-db=gym_tenant_db;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

# Logging
logging.level.com.metafit=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/gym-app.log
logging.file.max-size=10MB
logging.file.max-history=30

# Subscription Grace Period
subscription.grace-period-days=7

# CORS (app.cors.* is used by CorsConfig)
app.cors.allowed-origins=http://localhost:5173,http://localhost:3000
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.exposed-headers=Authorization,X-Tenant-ID
app.cors.allow-credentials=true
app.cors.max-age=3600

# Legacy CORS keys (kept for parity with application.yml)
cors.allowed-origins=http://localhost:5173,http://localhost:3000
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
